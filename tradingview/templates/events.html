{% extends 'base.html' %}
{% load static %}

{% block content %}
	<div class="p2-counter bg-1 mt-4 align-items-center">
        <div class="chartt h-100 w-100 align-content-center bg-1">
            <h2 class="wht ms-4"> Events</h2>
            <table id="events-table" class="table table-light table-bordered table-hover w-100">
                <thead class="thead-dark">
                    <tr>
                      <th scope="col">Event Date</th>
                      <th scope="col">Event Type</th>
                      <th scope="col">Impact Level</th>
                      <th scope="col">Title</th>
                    </tr>
                </thead>                
            </table>
        </div>
    </div> 

    <script type="text/javascript">

	fetch('/get-symbol-events')
      .then(response => response.json())
      .then(data => {
        $('#events-table').DataTable({
          data: data.events,
          columns: [
	          { data: 'date'},
              { data: 'event_type'},
              { data: 'impact_level'},
              { data: 'title'},
	       ]
        });
    })
      .catch(error => console.error(error));

    </script>

{% endblock %}